<app-header></app-header>


<div class="container text-center mb-5" style="margin-top: 70px !important;" *ngIf="isFetched">
  <i class="fas fa-map-marker-alt text-main mb-3" style="font-size: 3.7rem !important;"></i>
  <h1 class="text-main">{{geo.city}}<span class="text-white" style="font-size: 1.5rem !important;">,
      {{geo.country}}</span></h1>
  <div *ngIf="hotels.length > 1 ">
    <h5 class="mt-3">found <span class="text-main" style="font-size: 1.3rem;">{{count}}</span>
       hotels near your location, in <span class="text-main" style="font-size: 1.3rem;">{{hotels[0].city}}</span> </h5>
  </div>
  <div *ngIf="!hotels">
    <h5 class="mt-5">Can not found any hotels near your location !</h5>
  </div>

</div>
<div *ngIf="isFetched" style="margin-bottom: 30px !important; margin-top: 40px !important;">
  <div class="container">
    <map-component [center]="{ lat: geo.lat, long:geo.lon }" [userLocationCity]="geo.city" [landmarks]="hotels">
    </map-component>
  </div>
</div>

<div class="container  " *ngIf="hotels">
  <div class="row mt-2" *ngIf="isFetched">
    <div *ngFor="
        let hotel of hotels
      " class="col-xl-3 col-lg-6 col-md-6 mt-4">
      <div class="card border-main primary mb-3 fade-in" style="width: 100%">
        <img src="{{ hotel.image }}" class="card-img-top" style="height: 200px !important" alt="{{ hotel.name }}" />
        <div class="card-body">
          <div class="card-title font text">
            {{
              hotel.name.length > 25
                ? hotel.name.substring(0, 25) + "..."
                : hotel.name
            }}
          </div>
          <span class="badge badge-pill badge-info">{{
            hotel.class ? hotel.class + " Stars" : "Hostel/No class"
          }}</span>
        </div>
        <div class="card-footer text-muted">
          <div class="row">
            <div class="col text-white">
              {{ hotel.reviewCount }}
            </div>
            <div class="col">
              <button routerLink="{{'/hotels/' + hotels[0].city + '/' + hotel._id}}" class="btn btn-block secondry text-white">
                <i class="fas fa-info-circle mr-2"></i>Details
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="text-center">

    <button *ngIf="hotels[0].city" class="btn btn-main mt-3 text-white mt-4 mb-4"
    routerLink="{{'/hotels/' + hotels[0].city}}">More hotels in {{hotels[0].city}}</button>   
  </div>
 

</div>
